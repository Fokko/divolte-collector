divolte.tracking.schema_mapping {
  version = 1
  
  regexes {
    category {
      regex = "^(http|https):\/\/(?:www.)?example.com/[a-z0-9]+/[a-z0-9]+/[a-z0-9]+/([A-Z0-9]{3})_([A-Z0-9]{3})_([A-Z0-9]{3}).*$"
      group_names = [protocol, top, sub, subsub]
    }
    content {
      regex = "^(http|https):\/\/(?:www.)?example.com/([a-z]+)\.html$"
      group_names = [protocol, page]
    }
  }
  
  fields {
    toplevelCategory = {
      type = regex_group
      regex = category
      field = location
      group = top
    }

    subCategory = {
      type = regex_group
      regex = category
      field = location
      group = sub
    }

    contentPage = {
      type = regex_group
      regex = content
      field = referer
      group = page
    }
  }
}